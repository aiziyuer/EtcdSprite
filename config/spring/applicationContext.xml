<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans.xsd
	http://www.springframework.org/schema/task
	http://www.springframework.org/schema/task/spring-task.xsd">

	<!--全局的Spring工具类 -->
	<bean id="serviceLocator" class="com.aiziyuer.app.framework.util.ServiceLocator"
		lazy-init="false" />


	<!--自定义线程池 -->
	<task:executor id="myExecutor" pool-size="5" />
	<task:scheduler id="myScheduler" pool-size="2" />
	<task:annotation-driven executor="myExecutor"
		scheduler="myScheduler" />

	<!-- 配置文件目录映射 -->
	<bean id="CONFIG_DIR_MAP" class="java.util.HashMap">
		<constructor-arg>
			<map>
				<!-- 界面的布局文件目录 -->
				<entry key="ui"
					value="#{systemProperties['ui.config.path']?:'config/ui'}" />
			</map>
		</constructor-arg>
	</bean>

	<!-- 数据库作为基础的需要先包含 -->
	<import resource="applicationContext-jdbc.xml" />

	<!-- 业务的配置 -->
	<import resource="applicationContext-ssh.xml" />

	<!-- 界面依赖业务的注入 -->
	<import resource="applicationContext-ui.xml" />

	<!-- 入口类 -->
	<bean id="coreApplication" class="com.aiziyuer.app.CoreApplication">
		<property name="xwtFileMap" ref="xwtFileMap" />
	</bean>

	<!--脚本刷新经常导致进程重启挂死，暂时注释脚本 -->
	<!--<import resource="applicationContext-scripts.xml"/> -->
</beans>